{"ast":null,"code":"'use strict';\n\nconst OperationBase = require('./operation').OperationBase;\n\nconst Aspect = require('./operation').Aspect;\n\nconst defineAspects = require('./operation').defineAspects;\n\nconst resolveReadPreference = require('../utils').resolveReadPreference;\n\nclass FindOperation extends OperationBase {\n  constructor(collection, ns, command, options) {\n    super(options);\n    this.ns = ns;\n    this.cmd = command;\n    this.readPreference = resolveReadPreference(collection, this.options);\n  }\n\n  execute(server, callback) {\n    // copied from `CommandOperationV2`, to be subclassed in the future\n    this.server = server;\n    const cursorState = this.cursorState || {}; // TOOD: use `MongoDBNamespace` through and through\n\n    server.query(this.ns.toString(), this.cmd, cursorState, this.options, callback);\n  }\n\n}\n\ndefineAspects(FindOperation, [Aspect.READ_OPERATION, Aspect.RETRYABLE, Aspect.EXECUTE_WITH_SELECTION, Aspect.SKIP_SESSION]);\nmodule.exports = FindOperation;","map":null,"metadata":{},"sourceType":"script"}