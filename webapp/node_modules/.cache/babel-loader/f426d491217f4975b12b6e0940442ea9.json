{"ast":null,"code":"'use strict';\n\nconst Aspect = require('./operation').Aspect;\n\nconst defineAspects = require('./operation').defineAspects;\n\nconst OperationBase = require('./operation').OperationBase;\n\nconst nextObject = require('./common_functions').nextObject;\n\nclass NextOperation extends OperationBase {\n  constructor(cursor) {\n    super();\n    this.cursor = cursor;\n  }\n\n  execute(callback) {\n    const cursor = this.cursor; // Return the currentDoc if someone called hasNext first\n\n    if (cursor.s.currentDoc) {\n      const doc = cursor.s.currentDoc;\n      cursor.s.currentDoc = null;\n      return callback(null, doc);\n    } // Return the next object\n\n\n    nextObject(cursor, callback);\n  }\n\n}\n\ndefineAspects(NextOperation, Aspect.SKIP_SESSION);\nmodule.exports = NextOperation;","map":null,"metadata":{},"sourceType":"script"}